<!-- /*
* Bootstrap 5
* Template Name: Furni
* Template Author: Untree.co
* Template URI: https://untree.co/
* License: https://creativecommons.org/licenses/by/3.0/
*/ -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="author" content="Untree.co" />
    <link rel="shortcut icon" href="favicon.png" />

    <meta name="description" content="" />
    <meta name="keywords" content="bootstrap, bootstrap4" />

    <!-- Bootstrap CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <link href="css/tiny-slider.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

    <title>NovaLiving</title>
    <style>
      .pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 20px;
  gap: 10px;
  font-family: Arial, sans-serif;
}

.pagination a {
  display: inline-block;
  padding: 10px 15px;
  margin: 0 2px;
  font-size: 14px;
  text-decoration: none;
  color: #333;
  background-color: #f8f9fa;
  border: 1px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
}

.pagination a:hover {
  background-color: #ddd;
  border-color: #ccc;
}

.pagination a.active {
  background-color: #3B5D50;
  color: #fff;
  border-color:#3B5D50;
}

.pagination a.disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

.pagination a:focus {
  outline: none;
  box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
}
/* Stock message styles */
.stock-message {
  color: red;
  font-weight: bold;
  margin-top: 5px;
}


    </style>
  </head>

  <body>
    <!-- Start Header/Navigation -->
		<%- include('partials/navBar',{ product: product || null }) %>

    <!-- End Header/Navigation -->

    <!-- Start Hero Section -->
    <div class="hero">
      <div class="container ">
        <div class="row justify-content-between">
          <div class="col-lg-5">
            <div class="intro-excerpt">
              <h1>Shop</h1>
            </div>
          </div>
          <div class="col-lg-7"></div>
        </div>
      </div>
    </div>
    <!-- End Hero Section -->

    <div class="untree_co-section product-section before-footer-section">
      <div class="container">
        <div class="row">
          
          <% products.forEach((val) => { %>
          <!-- Start Column 1 -->
          <div class="col-12 col-md-4 col-lg-3 mb-5">
            <div class="product-item">
            <a  href="/product/details/<%= val._id %>">
              <img
                src='/uploads/images/<%= val.images[0] %>'
                class="img-fluid product-thumbnail"
              />
              <h3 class="product-title"><%= val.name %></h3>
              <strong class="product-price">â‚¹<%= val.price %></strong>
            </a>
        
            
            <!-- Stock Status -->
            <div>
              <% if (val.stock === 0) { %>
                <span style="color: red; font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">Out of Stock</span>
              <% } else if (val.stock < 10) { %>
                <span style="color: red;  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">Only Few Left</span>
              <% } %>
            </div>

              <div class="icon-cross" style="display: flex; gap: 20px; margin-left: -25px;">

                <!-- Cart Icon -->
                <button onclick="addToCart('<%= val._id %>')" id="cart-button" 
                  style="display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; background-color: #2f2f2f; border-radius: 50%; padding: 12px; border: none; cursor: pointer;">
              <i class="fas fa-shopping-cart" style="font-size: 18px; color: #fff;"></i>
          </button>
          

                <!-- Wishlist Icon -->
                <span class="icon-wishlist" style="display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; background-color: #d23b3b; border-radius: 50%; padding: 12px;">
                  <i class="fas fa-heart" style="font-size: 18px; color: #fff;"></i>
                </span>
              </div>
              

             
            
            </div>
          </div>
          <!-- End Column 1 -->
          <% }); %>
        </div>
      </div>
      <div class="pagination">
        <% if (currentPage > 1) { %>
          <a href="?page=<%= currentPage - 1 %>">&laquo; Previous</a>
        <% } else { %>
          <a class="disabled">&laquo; Previous</a>
        <% } %>
      
        <% for (let i = 1; i <= totalPages; i++) { %>
          <a href="?page=<%= i %>" class="<%= i === currentPage ? 'active' : '' %>">
            <%= i %>
          </a>
        <% } %>
      
        <% if (currentPage < totalPages) { %>
          <a href="?page=<%= currentPage + 1 %>">Next &raquo;</a>
        <% } else { %>
          <a class="disabled">Next &raquo;</a>
        <% } %>
      </div>
      
    </div>
   
    

    <!-- Start Footer Section -->
    <%- include('partials/footer') %>

    <!-- End Footer Section -->
     <script src="/script/User/cart.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/tiny-slider.js"></script>
    <script src="js/custom.js"></script>
  </body>
</html>
